<?phpinclude "../Clases/TemplatePage.php";include "../Clases/Fuec.php";$util = new Utilities();$template = new TemplatePage(true, true, 'empleado');$fuec = new Fuec();$fuec->getNextConsecutive();$result = $fuec->result->FetchRow();$_SESSION['number'] = $result['number'];$numeroFuec = '376009200' . date('Y') . 'CONTRATO' . $_SESSION['number'];$template->headerForms('Contrato');$template->navigateBar('Contract_add');$casualForm = new JFormer('fuecForm', array('title' => '<div align="center"><h2>FUEC No. '.$numeroFuec.' - C</h2></div>', 'submitButtonText' => 'Aceptar', 'requiredText' => '*', 'pageNavigator' => true));$jFormPage1 = new JFormPage($casualForm->id . 'BasicData', array('title' => 'Basicos'));$jFormSection1 = new JFormSection($casualForm->id . 'Basic');$jFormSection1->addJFormComponentArray(array(    new JFormComponentSingleLineText('number', 'Numero Contrato:  ', array('initialValue' => '', 'disabled' => false)),    ));$jFormPage1->addJFormSection($jFormSection1);$casualForm->addJFormPage($jFormPage1);$jFormPage2 = new JFormPage($casualForm->id . 'PassengersData', array('title' => 'Pasajeros'));$jFormSection2 = new JFormSection($casualForm->id . 'Passengers', array(        'title' => '<p>Pasajero</p>',        'instanceOptions' => array('max' => 50, 'addButtonText' => 'Adicionar', 'removeButtonText' => 'Quitar',)));$jFormSection2->addJFormComponentArray(array(    new JFormComponentSingleLineText('docNum', 'Documento:  ', array('initialValue' => '', 'disabled' => false)),    new JFormComponentSingleLineText('name', 'Nombre:  ', array('initialValue' => '', 'disabled' => false)),));$jFormPage2->addJFormSection($jFormSection2);$casualForm->addJFormPage($jFormPage2);function onSubmit($formValues) {	$contract = new Contract();	$respCode = $contract->addContract($formValues);	if($respCode != 0) {		if($respCode == 1) {			$response = array('failureNoticeHtml' => 'Inconvenientes tecnicos al procesar el Contrato.');		}		else {			if($respCode == 2) {				$response = array('failureNoticeHtml' => 'La placa del vehiculo ingresado no existe.');			}			else {				if($respCode == 3) {					$response = array('failureNoticeHtml' => 'La cantidad de pasajeros no puede superar la capacidad del bus.');				}			}		}	}	else {		$response = array('successPageHtml' => '<meta http-equiv="refresh" content="0; url=PrintContract.php">');	}	return $response;}$template->bodyForms($casualForm);$template->tail();?>